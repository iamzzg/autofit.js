var t={d:(e,o)=>{for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};t.d(e,{A:()=>y,C:()=>d});let o=null,n="",i="",r="",l=null,s=null,a=1,c=!1;const u={isAutofitRunnig:!1,init(t={},e=!0){e&&console.log("autofit.js is running");const{dw:a=1920,dh:u=1080,el:y=("string"==typeof t?t:"body"),resize:h=!0,ignore:m=[],transition:g="none",delay:p=0,limit:$=.1}=t;o=y;let w=document.querySelector(y);if(!w)return void console.error(`autofit: '${y}' is not exist`);const v=document.createElement("style"),x=document.createElement("style");v.lang="text/css",x.lang="text/css",v.id="autofit-style",x.id="ignoreStyle",v.innerHTML="body {overflow: hidden;}";const S=document.querySelector("body");S.appendChild(v),S.appendChild(x),w.style.height=`${u}px`,w.style.width=`${a}px`,w.style.transformOrigin="0 0",w.style.overflow="hidden",f(a,u,w,m,$),l=()=>{clearTimeout(s),0!=p?s=setTimeout((()=>{f(a,u,w,m,$),c&&d(n,r,i)}),p):(f(a,u,w,m,$),c&&d(n,r,i))},h&&window.addEventListener("resize",l),this.isAutofitRunnig=!0,setTimeout((()=>{w.style.transition=`${g}s`}))},off(t="body"){try{c=!1,window.removeEventListener("resize",l),document.querySelector("#autofit-style").remove();const e=document.querySelector("#ignoreStyle");e&&e.remove(),document.querySelector(o||t).style="",c&&function(){if(n)for(let t of document.querySelectorAll(n))t.style.width="",t.style.height="",t.style.transform=""}()}catch(t){console.error("autofit: Failed to remove normally",t),this.isAutofitRunnig=!1}this.isAutofitRunnig&&console.log("autofit.js is off")}};function d(t,e=!0,o=1){u.isAutofitRunnig||console.error("autofit.js：autofit has not been initialized yet"),!t&&console.error(`autofit.js：bad selector: ${t}`),n=t,i=o,r=e;const l=document.querySelectorAll(t);if(0!=l.length){for(let t of l){let n=1==a?1:a*o;c||(t.originalWidth=t.clientWidth,t.originalHeight=t.clientHeight),e?(t.style.width=t.originalWidth*n+"px",t.style.height=t.originalHeight*n+"px"):(t.style.width=100*n+"%",t.style.height=100*n+"%"),t.style.transform=`scale(${1/a})`,t.style.transformOrigin="0 0"}c=!0}else console.error("autofit.js：elRectification found no element")}function f(t,e,o,n,i){let r=document.documentElement.clientHeight,l=document.documentElement.clientWidth;a=l/r<t/e?l/t:r/e,a=Math.abs(1-a)>i?a.toFixed(2):1;let s=Math.round(r/a),c=Math.round(l/a);o.style.height=`${s}px`,o.style.width=`${c}px`,o.style.transform=`scale(${a})`;const u=document.querySelector("#ignoreStyle");u.innerHTML="";for(let t of n){let e=t.el||t.dom;if("string"==typeof t&&(e=t),!e){console.error(`autofit: bad selector: ${e}`);continue}let o=t.scale?t.scale:1/a,n=o!=a?t.fontSize:"autofit",i=o!=a?t.width:"autofit",r=o!=a?t.height:"autofit";new RegExp(`${e}( |{)`,"gm").test(u.innerHTML)||(u.innerHTML+=`\n${e} { \n      transform: scale(${o})!important;\n      transform-origin: 0 0;\n      width: ${i}!important;\n      height: ${r}!important;\n    }`,n&&(u.innerHTML+=`\n${e} div ,${e} span,${e} a,${e} * {\n        font-size: ${n}px;\n      }`))}}const y=u;var h=e.A,m=e.C;export{h as default,m as elRectification};