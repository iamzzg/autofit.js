!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Autofit=t():e.Autofit=t()}(self,(()=>(()=>{"use strict";var e={d:(t,o)=>{for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{default:()=>y,elRectification:()=>f});let o=null,n="",i="",r="",l=null,s=null,u=1,c=!1;const d={isAutofitRunnig:!1,init(e={},t=!0){t&&console.log("autofit.js is running");const{dw:u=1920,dh:d=1080,el:y=("string"==typeof e?e:"body"),resize:m=!0,ignore:h=[],transition:g="none",delay:p=0,limit:$=.1}=e;o=y;let b=document.querySelector(y);if(!b)return void console.error(`autofit: '${y}' is not exist`);const S=document.createElement("style"),w=document.createElement("style");S.lang="text/css",w.lang="text/css",S.id="autofit-style",w.id="ignoreStyle",S.innerHTML="body {overflow: hidden;}";const x=document.querySelector("body");x.appendChild(S),x.appendChild(w),b.style.height=`${d}px`,b.style.width=`${u}px`,b.style.transformOrigin="0 0",b.style.overflow="hidden",a(u,d,b,h,$),l=()=>{clearTimeout(s),0!=p?s=setTimeout((()=>{a(u,d,b,h,$),c&&f(n,r,i)}),p):(a(u,d,b,h,$),c&&f(n,r,i))},m&&window.addEventListener("resize",l),this.isAutofitRunnig=!0,setTimeout((()=>{b.style.transition=`${g}s`}))},off(e="body"){try{c=!1,window.removeEventListener("resize",l),document.querySelector("#autofit-style").remove();const t=document.querySelector("#ignoreStyle");t&&t.remove(),document.querySelector(o||e).style="",c&&function(){if(n)for(let e of document.querySelectorAll(n))e.style.width="",e.style.height="",e.style.transform=""}()}catch(e){console.error("autofit: Failed to remove normally",e),this.isAutofitRunnig=!1}this.isAutofitRunnig&&console.log("autofit.js is off")}};function f(e,t=!0,o=1){d.isAutofitRunnig||console.error("autofit.js：autofit has not been initialized yet"),!e&&console.error(`autofit.js：bad selector: ${e}`),n=e,i=o,r=t;const l=document.querySelectorAll(e);if(0!=l.length){for(let e of l){let n=1==u?1:u*o;c||(e.originalWidth=e.clientWidth,e.originalHeight=e.clientHeight),t?(e.style.width=e.originalWidth*n+"px",e.style.height=e.originalHeight*n+"px"):(e.style.width=100*n+"%",e.style.height=100*n+"%"),e.style.transform=`scale(${1/u})`,e.style.transformOrigin="0 0"}c=!0}else console.error("autofit.js：elRectification found no element")}function a(e,t,o,n,i){let r=document.documentElement.clientHeight,l=document.documentElement.clientWidth;u=l/r<e/t?l/e:r/t,u=Math.abs(1-u)>i?u.toFixed(2):1;let s=Math.round(r/u),c=Math.round(l/u);o.style.height=`${s}px`,o.style.width=`${c}px`,o.style.transform=`scale(${u})`;const d=document.querySelector("#ignoreStyle");d.innerHTML="";for(let e of n){let t=e.el||e.dom;if("string"==typeof e&&(t=e),!t){console.error(`autofit: bad selector: ${t}`);continue}let o=e.scale?e.scale:1/u,n=o!=u?e.fontSize:"autofit",i=o!=u?e.width:"autofit",r=o!=u?e.height:"autofit";new RegExp(`${t}( |{)`,"gm").test(d.innerHTML)||(d.innerHTML+=`\n${t} { \n      transform: scale(${o})!important;\n      transform-origin: 0 0;\n      width: ${i}!important;\n      height: ${r}!important;\n    }`,n&&(d.innerHTML+=`\n${t} div ,${t} span,${t} a,${t} * {\n        font-size: ${n}px;\n      }`))}}const y=d;return t})()));